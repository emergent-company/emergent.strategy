# Server Nest .env example
# Copy to .env and adjust values.

# --- Core Server ---
PORT=3001

# --- Postgres ---
PGHOST=localhost
PGPORT=5432
PGUSER=spec
PGPASSWORD=spec
PGDATABASE=spec
DB_AUTOINIT=true
# Set to any non-empty value to skip DB init (used for some test contexts)
# SKIP_DB=1

# Seed demo orgs/projects (optional boolean: true/false)
ORGS_DEMO_SEED=false

# --- Embeddings (Google Generative AI) ---
# Provide your API key to enable embeddings; leave unset to disable.
GOOGLE_API_KEY=AIzaSyCqmd3wjHkzmJsX6niUbv8zlO2NKcai_50
CHAT_MODEL_ENABLED=true

# To run real embeddings integration test:
# RUN_EMBEDDINGS_IT=true npx vitest run tests/embeddings.service.real.spec.ts

# Zitadel OIDC
AUTH_ISSUER=http://localhost:8100
AUTH_JWKS_URI=http://localhost:8100/oauth/v2/keys
# ^^^ Commented out to enable mock mode for development
# In mock mode, all authenticated users get full scope access

# --- Scopes ---
# Disable scope verification for local development
SCOPES_DISABLED=1
# Enable extraction worker
EXTRACTION_WORKER_ENABLED=true
