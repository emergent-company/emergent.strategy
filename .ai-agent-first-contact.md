# Welcome, AI Agent! You've Discovered EPF ü§ñ

> **Version**: 2.3.3 | **Last Updated**: 2026-01-08  
> **File Purpose**: First-contact guidance for AI assistants helping users adopt EPF  
> **When to use**: User is adopting EPF for **first time** OR asks "how do I get started?"

This file is specifically for you - an AI assistant encountering EPF for the first time. It provides rapid orientation and routing to prevent common mistakes.

**After onboarding is complete, use these files for ongoing work:**
- üìã **Daily operations & commands**: [`.github/copilot-instructions.md`](.github/copilot-instructions.md)
- üîß **Framework maintenance & enrichment**: [`.ai-agent-instructions.md`](.ai-agent-instructions.md)
- üìñ **Consistency protocols**: [`MAINTENANCE.md`](MAINTENANCE.md)

---

## üö® CRITICAL: Where Are You Right Now?

**FIRST: Determine your location** (run this command):
```bash
pwd  # Check current working directory
```

**Location determines what you can do:**

| You Are In | What This Means | What To Do |
|------------|-----------------|------------|
| `/path/to/epf` (ends with `/epf`) | ‚ùå **CANONICAL EPF REPO** | **STOP!** Read [`CANONICAL_PURITY_RULES.md`](CANONICAL_PURITY_RULES.md) NOW. Never create instance files here. |
| `/path/to/product/docs/EPF` | ‚úÖ **PRODUCT REPO (Instance)** | Correct location. Continue below. |
| `/path/to/product` (no `/docs/EPF`) | ‚ö†Ô∏è **EPF NOT ADDED YET** | User needs to add EPF first: See "Adding EPF to Product Repo" section below. |

**If you're in the canonical EPF repo and user asks to create artifacts, you MUST redirect them to a product repository first.**

---

## üéØ User Intent Routing: Quick Decision Tree

**Match the user's request to the right action:**

### "Start EPF" / "What is EPF?" / "I'm new to EPF"

‚Üí Use the **interactive onboarding wizard**: [`wizards/start_epf.agent_prompt.md`](wizards/start_epf.agent_prompt.md)

This wizard provides:
- Friendly introduction to EPF concepts
- Interactive questions to find the best path
- Options to explore, learn, or start building
- Ability to abort and self-guide at any time

**Trigger phrases:** "start epf", "begin epf", "help me with epf", "what is epf?", "how do I use epf?", "I'm new to epf"

---

### "Help me get started with EPF" / "How do I use EPF?"

**Option 1:** Use the **Start EPF wizard** (above) for guided interactive onboarding.

**Option 2:** Route directly based on team size:

- **1-2 people**: ‚Üí [`wizards/lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) (Level 0: North Star only, 2-3 hours)
- **3-5 people**: ‚Üí [`wizards/lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) (Level 1: Evidence + Roadmap, 4-6 hours)
- **6-15 people**: ‚Üí [`docs/guides/ADOPTION_GUIDE.md`](docs/guides/ADOPTION_GUIDE.md) (Level 2: Full value models)
- **15+ people**: ‚Üí [`docs/guides/ADOPTION_GUIDE.md`](docs/guides/ADOPTION_GUIDE.md) (Level 3: Validation + governance)

### "Create a roadmap" / "Plan our strategy"

**Check**: Does `_instances/{product}/READY/00_north_star.yaml` exist?

- **NO**: Start with North Star first ‚Üí [`wizards/lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) (Step 1)
- **YES**: Create roadmap ‚Üí [`wizards/lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) (Step 3) or full roadmap wizard

### "Create feature definitions" / "Document features"

**Check**: How many features?

- **1-5 MVP features**: ‚Üí [`wizards/lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) (Step 5: Lightweight)
- **6+ features or full detail**: ‚Üí `wizards/product_architect.agent_prompt.md` (if exists) or full feature wizard

**CRITICAL**: Before generating, read [`schemas/feature_definition_schema.json`](schemas/feature_definition_schema.json) AND validated example (`definitions/product/01-technical/fd-002-*.yaml`)

**NOTE**: `definitions/product/` contains **examples only**, not canonical templates. Each product writes its own unique features.

### "Validate our EPF work" / "Check if artifacts are correct"

**Run validation scripts in order:**

1. **Framework health**: `./scripts/epf-health-check.sh`
2. **Instance structure**: `./scripts/validate-instance.sh _instances/{product-name}`
3. **Content quality**: `./scripts/check-content-readiness.sh _instances/{product-name}/READY`

### "Document market trends" / "Analyze competitors"

‚Üí Specialist insight wizards:
- Market/trends: [`wizards/01_trend_scout.agent_prompt.md`](wizards/01_trend_scout.agent_prompt.md)
- Competitive analysis: [`wizards/02_market_mapper.agent_prompt.md`](wizards/02_market_mapper.agent_prompt.md)
- User problems: [`wizards/04_problem_detective.agent_prompt.md`](wizards/04_problem_detective.agent_prompt.md)

### "Migrate our existing docs to EPF" / "Convert our product docs"

**This is a mature repo with existing documentation.**

1. Read: [`docs/guides/ADOPTION_GUIDE.md`](docs/guides/ADOPTION_GUIDE.md) (special case: existing products)
2. Strategy: Extract strategic WHY/HOW from existing docs (not just copy implementation)
3. Key distinction: EPF covers Levels 1-2 (strategy, features), NOT Level 3-4 (implementation, code)

### "Update EPF" / "Migrate EPF artifacts" / "Upgrade to new version" ‚ö†Ô∏è CRITICAL

**This is EPF VERSION MIGRATION - use the documented approach!**

üö® **DO NOT invent your own migration approach. Follow these steps:**

1. **Read migration strategy**: [`MIGRATIONS.md`](MIGRATIONS.md)
2. **Read the registry**: [`migrations/registry.yaml`](migrations/registry.yaml)
3. **Generate migration plan**: `./scripts/generate-migration-plan.sh _instances/{product}/`
4. **Read the plan's `ai_instructions`** and follow step-by-step
5. **Validate after EACH artifact** - stop if validation fails

**Trigger phrases:** "update epf", "migrate epf", "upgrade epf", "new epf version", "epf behind", "artifacts outdated", "version alignment"

**Why this matters:** Migration has validation built into every step. Improvised migrations accumulate errors that are painful to fix. The documented approach catches problems immediately.

---

## üéØ Reality Baseline: Know Where You're Starting From

**Before diving into ANY wizard, take 2-5 minutes to understand the user's current reality.**

This isn't a formal assessment - it's a lightweight check that helps you adapt EPF to their actual situation rather than applying a one-size-fits-all approach.

### Quick Baseline Questions

Ask these naturally during conversation (don't interrogate):

1. **Team context**: How many people? What roles? How long working together?
2. **Product stage**: Pre-product, MVP, growth, mature?
3. **Existing artifacts**: What strategic documents do they already have?
4. **Current pain**: What prompted them to look at EPF today?
5. **Time/capacity**: How much time can they realistically invest?

### Why This Matters

- **Emergence over prescription**: EPF adapts to reality, not the other way around
- **Avoid waste**: Don't create artifacts they won't use
- **Right-size guidance**: Solo founders ‚â† 15-person teams
- **Track existing assets**: They may already have 80% of what they need in different formats

### Living Reality Assessment

For ongoing EPF users, check if they have:
- `_instances/{product}/AIM/living_reality_assessment.yaml`

If yes, **read it first** - it tells you their context, constraints, and current focus.

If no, consider collecting this baseline during onboarding (the `lean_start` wizard will guide this).

**Protocol reference**: [`docs/protocols/reality_baseline_protocol.md`](docs/protocols/reality_baseline_protocol.md)

---

## üìã Standard Onboarding Workflow for New Instances

**If user is adopting EPF for the first time in this product repo:**

### Step 0: Check if Instance Exists (30 seconds)

```bash
ls -la docs/EPF/_instances/
```

**If empty or only README.md exists**, proceed to Step 1.  
**If instance folder exists**, skip to Step 2 (check Living Reality Assessment).

### Step 1: Create Instance Structure (2 minutes)

**Check if script exists:**
```bash
ls docs/EPF/scripts/create-instance-structure.sh
```

**If exists**, run:
```bash
./docs/EPF/scripts/create-instance-structure.sh {product-name}
```

**If not**, manually create:
```bash
cd docs/EPF/_instances
mkdir -p {product-name}/{READY,FIRE/feature_definitions,FIRE/value_models,FIRE/workflows,AIM}
```

### Step 2: üö® Create Living Reality Assessment (REQUIRED - 10-15 minutes)

**This is a HARD GATE - do not proceed to READY artifacts without completing this step.**

**Check if baseline exists:**
```bash
ls docs/EPF/_instances/{product-name}/AIM/living_reality_assessment.yaml
```

**If exists**: Read it to understand current context, constraints, and focus. Proceed to Step 3.

**If NOT exists**: **YOU MUST CREATE IT NOW.** This is the Day 0 baseline that grounds all EPF work:

1. Copy template: [`templates/AIM/living_reality_assessment.yaml`](templates/AIM/living_reality_assessment.yaml)
2. Ask the Quick Baseline Questions (Section above) to gather context
3. Fill in: `metadata`, `adoption_context`, `track_baselines`, `existing_assets`, `current_focus`
4. Save to `_instances/{product-name}/AIM/living_reality_assessment.yaml`
5. Commit: `git commit -m "feat(EPF): Bootstrap Living Reality Assessment"`

**Why this gate exists**: Without understanding current reality (team size, product stage, existing assets, constraints), READY artifacts will be generic rather than tailored. The LRA takes 10-15 minutes but saves hours of rework.

> üõë **DO NOT SKIP**: Proceeding to North Star or other READY artifacts without the Living Reality Assessment is a critical anti-pattern that results in strategy disconnected from organizational reality.

### Step 3: Determine Adoption Level (1 minute)

**Ask user**: "How many people are currently working on this product?"

**Route based on team size:**
- 1-2: Level 0 (North Star only)
- 3-5: Level 1 (Evidence + Roadmap)  
- 6-15: Level 2 (Full value models)
- 15+: Level 3 (Validation + governance)

**Read**: [`docs/guides/ADOPTION_GUIDE.md`](docs/guides/ADOPTION_GUIDE.md) for level details

### Step 4: Use Appropriate Wizard (2-6 hours)

**Level 0-1**: [`wizards/lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md)  
**Level 2-3**: Full Pathfinder wizard (see [`wizards/README.md`](wizards/README.md))

**Follow the wizard instructions step-by-step** - they are designed for AI agents to execute.

### Step 5: Validate Before Committing (5 minutes)

**After creating artifacts, ALWAYS validate:**

```bash
# Framework-level check
./docs/EPF/scripts/epf-health-check.sh

# Instance-level check  
./docs/EPF/scripts/validate-instance.sh _instances/{product-name}

# Content quality check
./docs/EPF/scripts/check-content-readiness.sh _instances/{product-name}/READY
```

**If validation fails**, fix issues before committing.

---

## ‚ö†Ô∏è CRITICAL ANTI-PATTERNS (Mistakes to Avoid)

**Before generating ANY EPF artifact, complete this checklist:**

### Checklist: Pre-Generation (MANDATORY) ‚úÖ

- [ ] **Location check**: Am I in a product repo (NOT canonical EPF)?
- [ ] **üö® LIVING REALITY ASSESSMENT**: Does `_instances/{product}/AIM/living_reality_assessment.yaml` exist? **If NO, CREATE IT FIRST** before any READY artifacts!
- [ ] **Schema-first**: Have I read `schemas/{artifact-type}_schema.json`?
- [ ] **Example check**: Have I read a validated example artifact?
- [ ] **Wizard check**: Have I consulted the appropriate wizard?
- [ ] **Memory ban**: Am I generating from schema/wizard (NOT from my training data)?

> ‚ö†Ô∏è **HARD GATE**: The Living Reality Assessment is the Day 0 baseline that captures organizational context. Without it, READY artifacts lack grounding in reality. This is NOT optional - create it first using [`templates/AIM/living_reality_assessment.yaml`](templates/AIM/living_reality_assessment.yaml) and the baseline questions in `lean_start.agent_prompt.md` Step 0.

### Why This Matters: Time Cost of Violations

**Generating from memory instead of schema:**
- ‚ùå Wrong approach: Generate ‚Üí Validate ‚Üí Fail ‚Üí Read schema ‚Üí Fix ‚Üí Re-validate
- ‚è±Ô∏è Time wasted: ~25 minutes per artifact
- ‚úÖ Correct approach: Read schema ‚Üí Read example ‚Üí Generate correctly
- ‚è±Ô∏è Time saved: ~20 minutes per artifact

**See**: [`.github/instructions/self-learning.instructions.md`](.github/instructions/self-learning.instructions.md) (2025-12-27 entry) for detailed mistake analysis.

### Common Anti-Patterns

| ‚ùå WRONG | ‚úÖ CORRECT |
|----------|-----------|
| Generate feature from memory | Read `feature_definition_schema.json` ‚Üí Read `definitions/product/01-technical/fd-002-*.yaml` ‚Üí Generate |
| Create instance files in `/path/to/epf/_instances/` (canonical) | Create in `/path/to/product/docs/EPF/_instances/` (product repo) |
| Skip validation after generation | Always run `validate-schemas.sh` before committing |
| Generate technical implementation (APIs, schemas) | Generate strategic artifacts (WHY/HOW, not technical WHAT) |
| Copy-paste validation errors to canonical repo | Keep instance-specific content in product repos only |
| Treat `definitions/product/` as canonical templates | Use as examples only ‚Äì each product has unique features |

---

## üßô Wizard Selection Guide

**When user wants to create artifacts, choose the right wizard:**

| User Wants To Create | Use This Wizard | Time Estimate |
|---------------------|-----------------|---------------|
| **Onboarding / "I'm new"** | [`start_epf.agent_prompt.md`](wizards/start_epf.agent_prompt.md) ‚ú® **NEW** | 5-10 min |
| North Star (vision, mission, purpose) | [`lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) Step 1 | 2 hours |
| Market trends analysis | [`01_trend_scout.agent_prompt.md`](wizards/01_trend_scout.agent_prompt.md) | 30-45 min |
| Competitive analysis | [`02_market_mapper.agent_prompt.md`](wizards/02_market_mapper.agent_prompt.md) | 30-45 min |
| User problems / jobs-to-be-done | [`04_problem_detective.agent_prompt.md`](wizards/04_problem_detective.agent_prompt.md) | 30-45 min |
| Roadmap (OKRs, assumptions) | [`lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) Step 3 | 1-2 hours |
| Feature definitions (MVP, 1-5 features) | [`lean_start.agent_prompt.md`](wizards/lean_start.agent_prompt.md) Step 5 | 30-60 min |
| Feature definitions (full, 6+) | `product_architect.agent_prompt.md` | 2-4 hours |
| Retrospective assessment | `synthesizer.agent_prompt.md` | 1-2 hours |

**Complete wizard catalog**: [`wizards/README.md`](wizards/README.md)

---

## üöÄ Quick Reference: Essential Commands

### Check EPF Status in This Repo

```bash
# See if instance exists and adoption level
./docs/EPF/scripts/epf-status.sh  # If exists

# Or manually check
ls -la docs/EPF/_instances/
```

### Create New Instance

```bash
./docs/EPF/scripts/create-instance-structure.sh {product-name}
```

### Validation (Run Before Committing)

```bash
# Comprehensive health check (run first)
./docs/EPF/scripts/epf-health-check.sh

# Instance validation (structure, naming, metadata)
./docs/EPF/scripts/validate-instance.sh _instances/{product-name}

# Content quality assessment (template detection, placeholders)
./docs/EPF/scripts/check-content-readiness.sh _instances/{product-name}/READY

# Schema validation (specific artifact)
./docs/EPF/scripts/validate-schemas.sh _instances/{product-name}/READY/00_north_star.yaml
```

### Common Tasks

```bash
# List available wizards
ls docs/EPF/wizards/*.agent_prompt.md

# List available scripts
ls docs/EPF/scripts/*.sh

# Check EPF version
cat docs/EPF/VERSION
```

---

## üìñ Essential Reading (Read BEFORE Acting)

**If user is starting fresh (new to EPF):**

1. **[`docs/guides/ADOPTION_GUIDE.md`](docs/guides/ADOPTION_GUIDE.md)** (10 min)
   - Choose adoption level (0-3)
   - Understand "start simple, scale organically" philosophy
   - See time estimates and growth triggers

2. **Appropriate wizard** (2-6 hours)
   - Follow step-by-step instructions
   - Wizards are designed for AI agents to execute

3. **[`scripts/README.md`](scripts/README.md)** (5 min)
   - Validation tools reference
   - Health check system overview

**If helping with existing EPF instance:**

1. **[`.github/copilot-instructions.md`](.github/copilot-instructions.md)** (5 min)
   - Quick command reference
   - Sync procedures
   - Version management

2. **[`MAINTENANCE.md`](MAINTENANCE.md)** (15 min, optional)
   - Consistency protocols
   - Framework vs instance separation
   - Version management

**If working in canonical EPF repo:**

1. **[`CANONICAL_PURITY_RULES.md`](CANONICAL_PURITY_RULES.md)** (10 min, MANDATORY)
   - Absolute rules for canonical repo
   - What NEVER goes here
   - Decision trees and examples

---

## üèóÔ∏è Adding EPF to Product Repo (If Not Added Yet)

**If user is in a product repo WITHOUT `docs/EPF/` directory:**

### Option 1: Automated Script (Recommended)

```bash
curl -sSL https://raw.githubusercontent.com/eyedea-io/epf-canonical-definition/main/scripts/add-to-repo.sh | bash -s -- {product-name}
```

### Option 2: Manual Git Subtree

```bash
# Add EPF remote
git remote add epf git@github.com:eyedea-io/epf-canonical-definition.git

# Add as subtree
git subtree add --prefix=docs/EPF epf main --squash

# Create instance structure
mkdir -p docs/EPF/_instances/{product-name}
mkdir -p docs/EPF/_instances/{product-name}/{READY,FIRE,AIM}

# Commit
git add docs/EPF
git commit -m "Add EPF framework to repository"
```

**After adding EPF**, return to "User Intent Routing" section above.

---

## üéì Key EPF Concepts (Quick Reference)

### EPF's Scope: Strategic Layers (Not Implementation)

**EPF covers Levels 1-2 (strategic WHY/HOW):**
- ‚úÖ **Level 1**: Value models (WHY we exist, HOW value flows)
- ‚úÖ **Level 2**: Feature definitions (HOW users achieve outcomes, WHAT value delivered - strategic)

**EPF does NOT cover Levels 3-4 (technical HOW/WHAT):**
- ‚ùå **Level 3**: Implementation specs (APIs, architecture, technical design) - Engineering creates
- ‚ùå **Level 4**: Code (actual software) - Engineering creates

**Handoff point**: Your feature definitions become engineering's requirements.

### Phase-Based Workflow

**EPF operates in 3 phases:**

1. **READY Phase**: Strategic planning
   - North Star (00), Insights (01-03), Strategy (02-04), Roadmap (05)
   - Output: What to build and why

2. **FIRE Phase**: Execution  
   - Feature definitions, Value models, Workflows
   - Output: How users achieve value

3. **AIM Phase**: Retrospective
   - Assessment, Calibration
   - Output: What we learned, how to adapt

**Instances mirror this structure:** `_instances/{product}/{READY,FIRE,AIM}/`

### Schema-First Generation (Non-Negotiable)

**The rule**: Never generate artifacts from memory.

**The process**:
1. Read schema: `schemas/{artifact-type}_schema.json`
2. Read example: Validated artifact in `definitions/product/` (for features) or instances
3. Read wizard: `wizards/{appropriate-wizard}.agent_prompt.md`
4. Generate using schema as template
5. Validate: `./scripts/validate-schemas.sh`

**Why**: Training data contains outdated patterns. Current schema is authoritative source.

**Note on tracks**:
- **Canonical tracks** (Strategy, OrgOps, Commercial): Use definitions from `definitions/{track}/` as-is
- **Product track**: `definitions/product/` contains **examples only** ‚Äì each product writes unique features

---

## üÜò Need Help? Decision Tree

**Lost? Ask yourself:**

1. **Where am I?** ‚Üí Run `pwd` ‚Üí Check location table at top
2. **What does user want?** ‚Üí Check "User Intent Routing" section
3. **Do I understand EPF basics?** ‚Üí Read [`README.md`](README.md) (15 min)
4. **Which wizard should I use?** ‚Üí Check "Wizard Selection Guide"
5. **Is my artifact valid?** ‚Üí Run validation commands
6. **Am I following best practices?** ‚Üí Review "Critical Anti-Patterns" checklist

**Still stuck?** Read the comprehensive guide for your situation:
- New to EPF: [`docs/guides/ADOPTION_GUIDE.md`](docs/guides/ADOPTION_GUIDE.md)
- Creating artifacts: [`docs/guides/INSTANTIATION_GUIDE.md`](docs/guides/INSTANTIATION_GUIDE.md)
- Maintaining EPF: [`MAINTENANCE.md`](MAINTENANCE.md)

---

## üìä Success Indicators

**You're using EPF correctly when:**

- ‚úÖ Artifacts validate on first try (no schema errors)
- ‚úÖ You consulted wizard before generating
- ‚úÖ You read schema before generating
- ‚úÖ Instance files are in product repo (not canonical)
- ‚úÖ User understands strategic direction after your help
- ‚úÖ Validation scripts pass before committing

**Red flags (stop and reconsider):**

- ‚ùå Schema validation fails repeatedly
- ‚ùå You're generating from memory (didn't read schema)
- ‚ùå Creating files in canonical EPF repo
- ‚ùå Skipping validation "to save time"
- ‚ùå User confused about what EPF artifacts mean
- ‚ùå Generating technical specs (APIs, databases) instead of strategic artifacts

---

**Next Step**: Ask the user "What would you like to do?" and route them using the decision tree above.

**Remember**: EPF is a product operating system that grows organically. Start minimal (Level 0), add artifacts only when complexity emerges. You're helping users maintain strategic coherence while building complex products with small teams.

Good luck! üöÄ
