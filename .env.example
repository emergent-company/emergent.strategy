# Copy to .env and fill in values

# Workspace namespace for PM2 processes (REQUIRED)
# This is used to namespace all PM2 processes to avoid conflicts
# Example: spec-server-2
NAMESPACE=spec-server-2

# Ports (REQUIRED for bootstrap script)
ADMIN_PORT=5176
SERVER_PORT=3002

# Zitadel Configuration (REQUIRED for bootstrap script)
ZITADEL_DOMAIN=localhost:8200

# Test User Configuration
# Two separate test users are created during bootstrap:
# 1. TEST_USER_* - For manual testing and development (test@example.com)
# 2. E2E_TEST_USER_* - For automated E2E tests (e2e-test@example.com)
# Bootstrap script will create both users if they don't exist
E2E_TEST_USER_EMAIL=e2e-test@example.com
E2E_TEST_USER_PASSWORD=E2eTestPassword123!

# Google Gemini API key for embeddings / LLM extraction / chat model
# Get your key from: https://makersuite.google.com/app/apikey
# IMPORTANT: This value will be overridden by apps/server-nest/.env if that file exists
# Set it in apps/server-nest/.env for server-specific configuration
GOOGLE_API_KEY=

# Embedding configuration
# EMBEDDING_DIMENSION: Vector dimension for semantic search (default: 1536)
# Supported: 32 (legacy stub), 128, 384, 768, 1536 (recommended), 3072
# Note: Changing this requires database migration (see docs/EMBEDDING_MIGRATION.md)
EMBEDDING_DIMENSION=1536

# PostgreSQL Connection
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=spec
POSTGRES_PASSWORD=spec
POSTGRES_DB=spec

# Server
PORT=3002

# Automatically create / migrate core schema on startup (true/false)
DB_AUTOINIT=true

# --- E2E Testing (server-nest) ---
# Optional dedicated database name for E2E tests. If unset will reuse POSTGRES_DB.
POSTGRES_DB_E2E=spec_e2e
# Flag to enable org demo seed (disabled for clean E2E fixtures typically)
ORGS_DEMO_SEED=false

# Authorization - Disable scope enforcement (useful for development/migration)
# Set to 1 to bypass @Scopes() decorators on endpoints
SCOPES_DISABLED=0

# --- Google OAuth Script Settings ---
# Google Cloud Project ID. IMPORTANT: This must be globally unique.
# Change "spec-server" to something unique for you, e.g., "spec-server-yourname-123"
GCP_PROJECT_ID="spec-server"

# The callback URL for your OAuth flow.
# The default is suitable for a local Nango instance.
GOOGLE_REDIRECT_URL="http://localhost:3003/oauth/callback"

# --- Bible Test Dataset Seed Configuration ---
# Optional configuration for uploading Bible test documents
# BIBLE_SEED_API_URL: API endpoint (default: http://localhost:3000)
BIBLE_SEED_API_URL=http://localhost:3000
# BIBLE_SEED_ACCESS_TOKEN: Super admin JWT token (required for upload)
BIBLE_SEED_ACCESS_TOKEN=
# BIBLE_SEED_RATE_LIMIT_MS: Delay between uploads in milliseconds (default: 100)
BIBLE_SEED_RATE_LIMIT_MS=100

# --- LangSmith Tracing (Optional) ---
# Provides observability for LangGraph chat conversations
# Get credentials from: https://smith.langchain.com/
# LANGSMITH_TRACING: Enable/disable tracing (true/false, default: disabled)
LANGSMITH_TRACING=
# LANGSMITH_ENDPOINT: LangSmith API endpoint (EU or US region)
# EU: https://eu.api.smith.langchain.com
# US: https://api.smith.langchain.com
LANGSMITH_ENDPOINT=
# LANGSMITH_API_KEY: Authentication token (format: lsv2_pt_...)
LANGSMITH_API_KEY=
# LANGSMITH_PROJECT: Project name for organizing traces
LANGSMITH_PROJECT=
