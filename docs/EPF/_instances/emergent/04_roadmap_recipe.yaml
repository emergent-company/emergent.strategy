# ROADMAP Phase: Recipe for Solution
# This is the third sub-phase of READY where we create the actionable plan.
# 
# STRUCTURE: The roadmap is organized by TRACKS (Product, Strategy, Org/Ops, Commercial)
# to align with the four value models in the FIRE phase. Each track has its own OKRs,
# assumptions, and solution scaffold.
#
# KEY PRINCIPLE: Key Results (KRs) are the lowest level EPF defines. KRs are measurable
# milestones that are handed off to spec-driven development tools (Linear, Jira, etc.)
# which create work packages, tasks, and tickets for implementation.
#
# The roadmap defines WHAT outcomes we want and WHY (strategic traceability).
# Work packages define HOW we achieve those outcomes (implementation detail).

roadmap:
  id: "roadmap-001"
  strategy_id: "strat-001" # Links back to the strategy from 03_strategy_formula.yaml
  cycle: 1
  timeframe: "Q1 2025" # or "Sprint 1-3", etc.
  
  # TRACK-SPECIFIC ROADMAPS
  # Each track aligns with a value model: product.value_model.yaml, strategy.value_model.yaml, etc.
  
  tracks:
    
    # ============================================================================
    # PRODUCT TRACK - Core product development
    # Aligns with: phases/FIRE/value_models/product.value_model.yaml
    # ============================================================================
    product:
      track_objective: "Deliver core product capabilities that solve user problems"
      
      okrs:
        - id: "okr-p-001"
          objective: "Example Product Objective for the first cycle."
          key_results:
            - id: "kr-p-001"
              description: "Example Product Key Result 1"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state if known"
            - id: "kr-p-002"
              description: "Example Product Key Result 2"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state if known"
      
      riskiest_assumptions:
        - id: "asm-p-001"
          description: "Example product assumption to be tested."
          type: "desirability" # desirability, feasibility, viability, adaptability
          criticality: "high" # high, medium, low
          confidence: "low" # low, medium, high
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-p-001"]
        - id: "asm-p-002"
          description: "Example product feasibility assumption."
          type: "feasibility"
          criticality: "medium"
          confidence: "medium"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-p-002"]
      
      solution_scaffold:
        description: "High-level product architecture"
        key_components:
          - id: "comp-p-001"
            name: "Product Component Name"
            purpose: "What this component does"
            priority: "must-have" # must-have, should-have, could-have
            maps_to_value_model: "PRODUCT-L2-example" # Reference to product.value_model.yaml
        architecture_principles:
          - "Key product architectural principle"
        technical_constraints:
          - "Technical constraint or dependency"
    
    # ============================================================================
    # STRATEGY TRACK - Strategic positioning and market approach
    # Aligns with: phases/FIRE/value_models/strategy.value_model.yaml
    # ============================================================================
    strategy:
      track_objective: "Establish market position and validate strategic assumptions"
      
      okrs:
        - id: "okr-s-001"
          objective: "Example Strategy Objective"
          key_results:
            - id: "kr-s-001"
              description: "Example Strategy Key Result"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state"
      
      riskiest_assumptions:
        - id: "asm-s-001"
          description: "Example strategic assumption"
          type: "viability"
          criticality: "high"
          confidence: "low"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-s-001"]
      
      solution_scaffold:
        description: "Strategic initiatives and positioning approach"
        key_components:
          - id: "comp-s-001"
            name: "Market Positioning Initiative"
            purpose: "Establish differentiated position"
            priority: "must-have"
            maps_to_value_model: "STRATEGY-L2-example"
    
    # ============================================================================
    # ORG/OPS TRACK - Organizational and operational capabilities
    # Aligns with: phases/FIRE/value_models/org_ops.value_model.yaml
    # ============================================================================
    org_ops:
      track_objective: "Build organizational capabilities to execute strategy"
      
      okrs:
        - id: "okr-o-001"
          objective: "Example Org/Ops Objective"
          key_results:
            - id: "kr-o-001"
              description: "Example Org/Ops Key Result"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state"
      
      riskiest_assumptions:
        - id: "asm-o-001"
          description: "Example organizational assumption"
          type: "adaptability"
          criticality: "medium"
          confidence: "medium"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-o-001"]
      
      solution_scaffold:
        description: "Organizational structure and operational processes"
        key_components:
          - id: "comp-o-001"
            name: "Operational Process"
            purpose: "Enable efficient execution"
            priority: "should-have"
            maps_to_value_model: "ORG_OPS-L2-example"
    
    # ============================================================================
    # COMMERCIAL TRACK - Go-to-market and revenue generation
    # Aligns with: phases/FIRE/value_models/commercial.value_model.yaml
    # ============================================================================
    commercial:
      track_objective: "Validate business model and establish revenue channels"
      
      okrs:
        - id: "okr-c-001"
          objective: "Example Commercial Objective"
          key_results:
            - id: "kr-c-001"
              description: "Example Commercial Key Result"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state"
      
      riskiest_assumptions:
        - id: "asm-c-001"
          description: "Example commercial assumption"
          type: "viability"
          criticality: "high"
          confidence: "low"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-c-001"]
      
      solution_scaffold:
        description: "Go-to-market approach and revenue model"
        key_components:
          - id: "comp-c-001"
            name: "Sales Motion"
            purpose: "Convert prospects to customers"
            priority: "must-have"
            maps_to_value_model: "COMMERCIAL-L2-example"
  
  # ============================================================================
  # CROSS-TRACK COORDINATION
  # ============================================================================
  
  cross_track_dependencies:
    # Explicit dependencies between Key Results across tracks
    # This helps spec-driven tools understand sequencing constraints
    - from_kr: "kr-c-001"
      to_kr: "kr-p-001"
      dependency_type: "requires" # requires, informs, enables
      description: "Commercial validation requires product capabilities to demonstrate"
    
    - from_kr: "kr-s-001"
      to_kr: "kr-p-001"
      dependency_type: "informs"
      description: "Market positioning informs product feature prioritization"
  
  # Execution Plan (KR-level view)
  # Detailed work package planning happens in spec-driven development tools
  execution_plan:
    sequencing_rationale: "Product and Strategy KRs start in parallel. Org/Ops supports both. Commercial validates after product prototype exists."
    
    critical_path: 
      # Format: track:kr-id (the sequence of Key Results that determines timeline)
      - "product:kr-p-001"
      - "commercial:kr-c-001"
    
    parallel_tracks:
      - name: "Product & Strategy Discovery"
        key_results: ["product:kr-p-001", "strategy:kr-s-001"]
        timeframe: "Weeks 1-2"
      
      - name: "Org/Ops Foundation"
        key_results: ["org_ops:kr-o-001"]
        timeframe: "Weeks 2-4"
      
      - name: "Commercial Validation"
        key_results: ["commercial:kr-c-001"]
        timeframe: "Weeks 3-4"
        depends_on: ["product:kr-p-001"]
    
    key_milestones:
      - date: "TBD - End of Week 2"
        milestone: "Product prototype and market positioning validated"
        key_results: ["product:kr-p-001", "strategy:kr-s-001"]
      
      - date: "TBD - End of Week 4"
        milestone: "Commercial model validated and ops foundation established"
        key_results: ["commercial:kr-c-001", "org_ops:kr-o-001"]
  
  # Review & Approval
  status: "draft" # draft, approved, active, completed, cancelled
  approved_by: null
  approval_date: null
  start_date: null
  target_completion_date: null
