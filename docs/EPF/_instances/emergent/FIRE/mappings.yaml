# EPF v2.1.0 - Mappings
# Traces Value Model L3 capabilities to concrete implementation artifacts.
#
# This creates bidirectional traceability between strategy and code:
# - Impact Analysis: "What code implements this capability?"
# - Coverage Analysis: "Which capabilities lack implementation?"
# - Onboarding: "Why does this code exist?"
#
# Naming Convention: {Track}.{Theme}.{Capability}
# These are semantic identifiers - not necessarily 1:1 with value_model.yaml IDs.
#
# Related Resources:
# - Schema: ../../../../canonical-epf/schemas/mappings_schema.json
# - Value Models: ./value_models/
# - Feature Definitions: ./feature_definitions/

# ============================================================================
# PRODUCT TRACK - User-facing features and technical capabilities
# ============================================================================
product:
  # ------------------------------------------------------------------------
  # Document Intelligence (fd-002 - Document Ingestion Pipeline)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Ingest.DocumentParsing'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/document-parsing'
        description: 'Document parsing module - PDF, DOCX, HTML extraction'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/ingestion'
        description: 'Ingestion pipeline - document processing queue'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/chunks'
        description: 'Chunking service - text segmentation for embeddings'

  - sub_component_id: 'Product.Ingest.ExternalSources'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/external-sources'
        description: 'External source connectors - URL, file uploads'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/data-sources'
        description: 'Data source management - connection configs'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/integrations'
        description: 'Third-party integrations - ClickUp, Google Drive'

  # ------------------------------------------------------------------------
  # Knowledge Graph (fd-001 - Knowledge Graph Engine)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Graph.EntityExtraction'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/extraction-jobs'
        description: 'Entity extraction jobs - AI-powered NER pipeline'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/object-refinement'
        description: 'Object refinement - entity deduplication and linking'

  - sub_component_id: 'Product.Graph.KnowledgeStorage'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/graph'
        description: 'Knowledge graph module - entity/relationship storage'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/type-registry'
        description: 'Type registry - entity type definitions'

  - sub_component_id: 'Product.Discovery.KnowledgeExploration'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/admin/src/routes/explore'
        description: 'Knowledge exploration UI - entity browser'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/graph-search'
        description: 'Graph search API - entity/relationship queries'

  # ------------------------------------------------------------------------
  # Search & Retrieval (fd-001 capability)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Search.SemanticSearch'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/search'
        description: 'Search module - hybrid semantic + full-text search'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/unified-search'
        description: 'Unified search - cross-entity search aggregation'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/embeddings'
        description: 'Embeddings service - vector generation for RAG'

  # ------------------------------------------------------------------------
  # AI Chat (fd-003 - AI Native Chat, fd-008 - AI Chat Interface)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.AI.Chat'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/chat'
        description: 'Chat backend - conversation management, RAG integration'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/chat-sdk'
        description: 'Chat SDK - client library for chat integration'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/admin/src/chat-ui'
        description: 'Chat UI components - conversation interface'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/llm'
        description: 'LLM service - model abstraction layer'

  # ------------------------------------------------------------------------
  # MCP Integration (fd-004 - Model Context Protocol Server)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.AI.MCPServer'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/mcp'
        description: 'MCP server module - Model Context Protocol implementation'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/docs/MCP_INTEGRATION.md'
        description: 'MCP integration guide for AI assistants'

  # ------------------------------------------------------------------------
  # Template Packs (fd-005 - Template Packs System)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Configuration.TemplatePacks'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/template-packs'
        description: 'Template packs module - schema and type configurations'

  # ------------------------------------------------------------------------
  # Integration Framework (fd-006 - Integration Framework)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Integration.Adapters'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/clickup'
        description: 'ClickUp integration - task sync adapter'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/integrations'
        description: 'Integration framework - adapter registry and base classes'

  # ------------------------------------------------------------------------
  # Authentication & Multi-tenancy (fd-007)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Platform.Authentication'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/auth'
        description: 'Authentication module - Zitadel integration, JWT handling'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/admin/src/auth'
        description: 'Auth UI - login, registration, session management'

  - sub_component_id: 'Product.Platform.Multitenancy'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/orgs'
        description: 'Organizations module - workspace management'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/projects'
        description: 'Projects module - project scoping within orgs'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/users'
        description: 'Users module - user management within tenants'

  # ------------------------------------------------------------------------
  # Admin Tools (fd-009 - Admin Tools & Configuration)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Admin.Configuration'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/superadmin'
        description: 'Superadmin module - system-wide configuration'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/settings'
        description: 'Settings module - tenant configuration'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/admin/src/pages'
        description: 'Admin UI pages - dashboard, settings, management'

  # ------------------------------------------------------------------------
  # Workflow Initiation (fd-010 - Workflow Initiation API)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Workflow.Initiation'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/tasks'
        description: 'Tasks module - workflow task management'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/discovery-jobs'
        description: 'Discovery jobs - background processing orchestration'

  # ------------------------------------------------------------------------
  # EPF Schema Validation (fd-011 - EPF Schema Validation Service)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.EPF.SchemaValidation'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/epf-cli'
        description: 'EPF CLI - schema validation, health checks, MCP server'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/apps/epf-cli/README.md'
        description: 'EPF CLI documentation - commands and usage'

  # ------------------------------------------------------------------------
  # EPF CLI Local Workflow (fd-012)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.EPF.LocalWorkflow'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/epf-cli/cmd'
        description: 'EPF CLI commands - validate, health, coverage, context'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/epf-cli/internal'
        description: 'EPF CLI internals - validation engine, MCP server'

  # ------------------------------------------------------------------------
  # Emergent Strategy Developer Console (fd-013)
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.EPF.DeveloperConsole'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/emergent-strategy'
        description: 'Emergent Strategy TUI - developer console for EPF (in development)'

  # ------------------------------------------------------------------------
  # Observability & Monitoring
  # ------------------------------------------------------------------------
  - sub_component_id: 'Product.Platform.Observability'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/monitoring'
        description: 'Monitoring module - metrics, traces, alerts'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/langfuse'
        description: 'Langfuse integration - LLM observability'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/apps/server/src/client-logs'
        description: 'Client logs - frontend error tracking'

# ============================================================================
# STRATEGY TRACK - Strategic planning and execution artifacts
# ============================================================================
# Currently minimal - Strategy value model components are mostly inactive.
# Add mappings as strategy processes are formalized.
strategy:
  - sub_component_id: 'Strategy.Planning.ProductRoadmap'
    artifacts:
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/docs/EPF/_instances/emergent'
        description: 'EPF instance - product strategy and roadmap artifacts'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/docs/emergent-strategy/MASTER_PLAN.md'
        description: 'Emergent Strategy master plan - phased roadmap'

# ============================================================================
# ORG_OPS TRACK - Internal operations and team enablement
# ============================================================================
# Focus on developer experience and internal tooling.
org_ops:
  - sub_component_id: 'OrgOps.Development.CIIntegration'
    artifacts:
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/.github/workflows'
        description: 'GitHub Actions workflows - CI/CD pipelines'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/tree/main/docker'
        description: 'Docker configurations - development and deployment'

  - sub_component_id: 'OrgOps.Development.LocalEnvironment'
    artifacts:
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/SETUP.md'
        description: 'Development setup guide - local environment configuration'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/QUICK_START_DEV.md'
        description: 'Quick start guide - getting started with development'
      - type: 'code'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/docker-compose.dev.yml'
        description: 'Docker Compose dev config - local services'

  - sub_component_id: 'OrgOps.Development.AIAssistance'
    artifacts:
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/AGENTS.md'
        description: 'AI agents guidance - repo-level instructions'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/apps/epf-cli/AGENTS.md'
        description: 'EPF CLI AI guidance - EPF-specific instructions'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/docs/EPF/_instances/emergent/AGENTS.md'
        description: 'EPF instance AI guidance - relationship maintenance'

  - sub_component_id: 'OrgOps.Knowledge.ProductDocumentation'
    artifacts:
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/README.md'
        description: 'Repository README - project overview'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/RUNBOOK.md'
        description: 'Operations runbook - deployment and maintenance'
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/CONTRIBUTING.md'
        description: 'Contributing guide - development workflow'

# ============================================================================
# COMMERCIAL TRACK - Customer acquisition and revenue
# ============================================================================
# Currently minimal - add mappings as commercial materials are created.
commercial:
  - sub_component_id: 'Commercial.Content.Documentation'
    artifacts:
      - type: 'documentation'
        url: 'https://github.com/emergent-company/emergent.strategy/blob/main/openapi.yaml'
        description: 'OpenAPI specification - public API documentation'
