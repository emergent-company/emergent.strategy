# EPF v1.13.0 - Roadmap Recipe Template
# ROADMAP Phase: Recipe for Solution
# This is the third sub-phase of READY where we create the actionable plan.
# 
# EPF v1.9.6 BREAKING CHANGE: Work packages removed from EPF.
# EPF now defines: Objectives → Key Results → Feature Definitions
# Spec-driven tools own: Work Packages → Tasks
#
# STRUCTURE: The roadmap is organized by TRACKS (Product, Strategy, Org/Ops, Commercial)
# to align with the four value models in the FIRE phase. Each track has its own OKRs,
# assumptions, and solution scaffold. Feature definitions (in FIRE phase) translate
# KR intent into capabilities that spec-driven tools consume.
#
# ============================================================================
# TRL FIELDS (Technology Readiness Levels) - When to add them
# ============================================================================
# Add TRL fields to Key Results when:
# 1. Applying for R&D funding (SkatteFUNN, Horizon Europe, etc.)
# 2. Proving technical feasibility of novel approaches (TRL 2-7)
# 3. Tracking technical maturity progression in product development
# 4. Documenting experimental validation for grants/investors
#
# TRL fields are OPTIONAL - only add when you need to:
# - Demonstrate R&D work for tax credits/grants
# - Track technical uncertainty resolution
# - Provide evidence of systematic experimentation
#
# The Pathfinder wizard can enrich existing roadmaps with TRL fields
# using Mode B (Roadmap Enrichment). See examples in Product Track below.
# ============================================================================
#
# Related Resources:
# - Schema: ../../schemas/roadmap_recipe_schema.json
# - Guide: ../../docs/guides/TRACK_BASED_ARCHITECTURE.md

roadmap:
  id: "roadmap-001"
  template_version: "1.9.6"
  strategy_id: "strat-001" # Links back to the strategy from 04_strategy_formula.yaml
  cycle: 1
  timeframe: "Q1 2025" # or "Sprint 1-3", etc.
  
  # TRACK-SPECIFIC ROADMAPS
  # Each track aligns with a value model: product.value_model.yaml, strategy.value_model.yaml, etc.
  
  tracks:
    
    # ============================================================================
    # PRODUCT TRACK - Core product development
    # Aligns with: phases/FIRE/value_models/product.value_model.yaml
    # ============================================================================
    product:
      track_objective: "Deliver core product capabilities that solve user problems"
      
      okrs:
        - id: "okr-p-001"
          objective: "Example Product Objective for the first cycle."
          key_results:
            - id: "kr-p-001"
              description: "Example Product Key Result 1"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state if known"
              # Feature definitions that implement this KR are created in:
              # _instances/{product}/feature_definitions/
              
              # === TRL Fields (Optional - add if applying for R&D funding) ===
              # TRL progression shows technical maturity journey
              trl_start: 4  # TRL 4 = Lab prototype exists, needs integration
              trl_target: 6  # TRL 6 = Prototype validated in relevant environment
              
              # Technical hypothesis being tested (what are you trying to prove?)
              technical_hypothesis: "A [specific technology/approach] can achieve [quantifiable outcome] under [defined conditions]"
              
              # How will you validate the hypothesis? (experiments, prototypes, tests)
              experiment_design: "Build prototype → Test under realistic load → Measure performance metrics"
              
              # Quantitative success criteria (must be measurable)
              success_criteria: "Response time <200ms at 10K concurrent users with 99.9% uptime"
              
              # What technical unknowns are you resolving?
              uncertainty_addressed: "Whether [technology] scales to [target capacity] while maintaining [performance characteristic]"
              
              # Time and budget allocation for this KR
              duration_months: 4  # How long to complete this KR (realistic timeline)
              budget_allocation_nok: 350000  # Budget in Norwegian Kroner (NOK)
              
              # Budget breakdown (should sum to budget_allocation_nok)
              budget_breakdown:
                personnel: 250000  # Developer/researcher time (largest portion typically)
                equipment: 30000   # Hardware, software licenses, cloud infrastructure
                subcontractors: 50000  # External consultants, testing services
                other: 20000  # Travel, training, miscellaneous costs
            
            - id: "kr-p-002"
              description: "Example Product Key Result 2"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state if known"
              
              # === TRL Fields Example 2 (Lower TRL range - early stage R&D) ===
              trl_start: 2  # TRL 2 = Technology concept formulated
              trl_target: 4  # TRL 4 = Lab prototype validated
              technical_hypothesis: "Algorithm X can reduce computation time by 50% compared to baseline approach Y"
              experiment_design: "Implement both algorithms → Benchmark on standard datasets → Measure accuracy and speed"
              success_criteria: "50% speed improvement with <5% accuracy loss on benchmark suite"
              uncertainty_addressed: "Whether theoretical algorithm performance translates to practical implementation gains"
              duration_months: 3
              budget_allocation_nok: 200000
              budget_breakdown:
                personnel: 150000
                equipment: 20000
                subcontractors: 20000
                other: 10000
      
      riskiest_assumptions:
        - id: "asm-p-001"
          description: "Example product assumption to be tested."
          type: "desirability" # desirability, feasibility, viability, adaptability
          criticality: "high" # high, medium, low
          confidence: "low" # low, medium, high
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-p-001"]
        - id: "asm-p-002"
          description: "Example product feasibility assumption."
          type: "feasibility"
          criticality: "medium"
          confidence: "medium"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-p-002"]
      
      solution_scaffold:
        description: "High-level product architecture"
        key_components:
          - id: "comp-p-001"
            name: "Product Component Name"
            purpose: "What this component does"
            priority: "must-have" # must-have, should-have, could-have
            maps_to_value_model: "PRODUCT-L2-example" # Reference to product.value_model.yaml
        architecture_principles:
          - "Key product architectural principle"
        technical_constraints:
          - "Technical constraint or dependency"
    
    # ============================================================================
    # STRATEGY TRACK - Strategic positioning and market approach
    # Aligns with: phases/FIRE/value_models/strategy.value_model.yaml
    # ============================================================================
    strategy:
      track_objective: "Establish market position and validate strategic assumptions"
      
      okrs:
        - id: "okr-s-001"
          objective: "Example Strategy Objective"
          key_results:
            - id: "kr-s-001"
              description: "Example Strategy Key Result"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state"
      
      riskiest_assumptions:
        - id: "asm-s-001"
          description: "Example strategic assumption"
          type: "viability"
          criticality: "high"
          confidence: "low"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-s-001"]
      
      solution_scaffold:
        description: "Strategic initiatives and positioning approach"
        key_components:
          - id: "comp-s-001"
            name: "Market Positioning Initiative"
            purpose: "Establish differentiated position"
            priority: "must-have"
            maps_to_value_model: "STRATEGY-L2-example"
    
    # ============================================================================
    # ORG/OPS TRACK - Organizational and operational capabilities
    # Aligns with: phases/FIRE/value_models/org_ops.value_model.yaml
    # ============================================================================
    org_ops:
      track_objective: "Build organizational capabilities to execute strategy"
      
      okrs:
        - id: "okr-o-001"
          objective: "Example Org/Ops Objective"
          key_results:
            - id: "kr-o-001"
              description: "Example Org/Ops Key Result"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state"
      
      riskiest_assumptions:
        - id: "asm-o-001"
          description: "Example organizational assumption"
          type: "adaptability"
          criticality: "medium"
          confidence: "medium"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-o-001"]
      
      solution_scaffold:
        description: "Organizational structure and operational processes"
        key_components:
          - id: "comp-o-001"
            name: "Operational Process"
            purpose: "Enable efficient execution"
            priority: "should-have"
            maps_to_value_model: "ORG_OPS-L2-example"
    
    # ============================================================================
    # COMMERCIAL TRACK - Go-to-market and revenue generation
    # Aligns with: phases/FIRE/value_models/commercial.value_model.yaml
    # ============================================================================
    commercial:
      track_objective: "Validate business model and establish revenue channels"
      
      okrs:
        - id: "okr-c-001"
          objective: "Example Commercial Objective"
          key_results:
            - id: "kr-c-001"
              description: "Example Commercial Key Result"
              target: "TBD"
              measurement_method: "How will we measure this?"
              baseline: "Current state"
      
      riskiest_assumptions:
        - id: "asm-c-001"
          description: "Example commercial assumption"
          type: "viability"
          criticality: "high"
          confidence: "low"
          evidence_required: "What would prove/disprove this?"
          linked_to_kr: ["kr-c-001"]
      
      solution_scaffold:
        description: "Go-to-market approach and revenue model"
        key_components:
          - id: "comp-c-001"
            name: "Sales Motion"
            purpose: "Convert prospects to customers"
            priority: "must-have"
            maps_to_value_model: "COMMERCIAL-L2-example"
  
  # ============================================================================
  # CROSS-TRACK COORDINATION
  # ============================================================================
  
  cross_track_dependencies:
    # Dependencies between KRs across tracks
    - from_kr: "kr-c-001"
      to_kr: "kr-p-001"
      dependency_type: "requires" # requires, informs, enables
      description: "Commercial validation requires product capability to be delivered"
    
    - from_kr: "kr-s-001"
      to_kr: "kr-p-001"
      dependency_type: "informs"
      description: "Market positioning informs product feature prioritization"
  
  # Timeline & Milestones
  timeline:
    cycle_start: "TBD"
    cycle_end: "TBD"
    key_milestones:
      - date: "TBD"
        milestone: "Example milestone"
        key_results: ["kr-p-001", "kr-s-001"]
  
  # Review & Approval
  status: "draft" # draft, approved, active, completed, cancelled
  approved_by: null
  approval_date: null
  start_date: null
  target_completion_date: null
